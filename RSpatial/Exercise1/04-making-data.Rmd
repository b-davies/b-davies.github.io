# Creating `sf` objects from scratch

## Making spatial data

Lastly, let's add some data we make ourselves. Let's say we have a section of grassland we want to use as a study area. To do this, we're going to make a square polygon using longitude/latitude coordinates. First, we use `list` and `rbind` to create a list object with a matrix of coordinate pairs:

```{r}
#Make polygon list
polygonList = list(rbind(c(26.5, -28), c(29.5, -28), c(29.5, -30), c(26.5, -30), c(26.5, -28)))
```

Next, we trainslate this list into a polygon object with `st_polygon`, and then a feature collection with `st_sfc`:


```{r}
polygonObject<-st_polygon(polygonList)
polygonCollection<-st_sfc(polygonObject)
```

Now we generate some "data" to include. Since it's only one feature we're making, we can just give it a feature number of 1. We turn this into a dataframe, and then combine them with the feature collection to make a new simple features dataset with `st_sf`:

```{r}
featureNum<-c(1)
data<-data.frame(featureNum)
polygonData<-st_sf(data,polygonCollection)
```

Finally, we need to tell it what coordinate system we are using. The EPSG coordinate system code for the WGS84 Geographic Coordinate System (the standard used in GPS) is 4326. We can assign this easily using `st_crs`, and use the same function to check it:


```{r}
st_crs(polygonData) <- 4326
st_crs(polygonData)
```

Lastly, we want to plot our newly created study area polygon with our other data:

```{r}
#Add to plot
plot(st_geometry(grassland),axes=T,col="light green")
plot(st_geometry(c14points2),add=T)
plot(st_geometry(polygonData),add=T)
```

## Writing to file

And if we want to export our new data as a shapefile, we can use `st_write`: 

```{r}
#Export it to shapefile (remove the # to run this code)
#st_write(polygonData,"sampleArea.shp",driver="ESRI shapefile")
```

